â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚   ğŸš€ SUPABASE MIGRATION - QUICK REFERENCE                               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ START HERE:
   â””â”€ Open: SUPABASE_MIGRATION_GUIDE.md (complete walkthrough)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ FAST TRACK (10 minutes)

1ï¸âƒ£  Go to Supabase SQL Editor
    â†’ https://supabase.com/dashboard
    â†’ Project: lsqvxfaonbvqvlwrhsby

2ï¸âƒ£  Run Schema Migration
    â†’ New query
    â†’ Copy/paste: supabase_migration.sql
    â†’ Execute
    â†’ âœ“ Should see: "Migration base schema created successfully!"

3ï¸âƒ£  Run Data Migration
    â†’ New query
    â†’ Copy/paste: supabase_data_inserts.sql
    â†’ Execute
    â†’ âœ“ Should see row count summary

4ï¸âƒ£  Verify Migration
    â†’ Run: SELECT COUNT(*) FROM users;  -- Should return 1
    â†’ Run: SELECT COUNT(*) FROM projects;  -- Should return 1
    â†’ Run: SELECT COUNT(*) FROM material_vehicle_register;  -- Should return 2

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš¢ DEPLOY (Choose One)

Option A: Railway.app (Easiest)  â­
  1. Push code to GitHub
  2. https://railway.app â†’ New Project â†’ Deploy from GitHub
  3. Add env vars: DATABASE_URL, JWT_SECRET_KEY
  4. Done! (~5 min)

Option B: Render.com
  1. Push code to GitHub
  2. https://render.com â†’ New Web Service
  3. Build: pip install -r requirements.txt
  4. Start: gunicorn -w 2 -b 0.0.0.0:$PORT 'server.app:create_app()'
  5. Add env vars
  6. Deploy! (~10 min)

Option C: Docker (Local/VPS)
  docker build -t concretethings .
  docker run -p 8001:8001 \
    -e DATABASE_URL="postgresql://..." \
    -e JWT_SECRET_KEY="..." \
    concretethings

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ FILES CREATED

Migration:
  âœ“ supabase_migration.sql        (17K) - Schema DDL
  âœ“ supabase_data_inserts.sql     (6.4K) - Data inserts
  âœ“ data.sqlite3.backup-*         (164K) - Your backup

Documentation:
  âœ“ SUPABASE_MIGRATION_GUIDE.md   (6.5K) - Complete guide
  âœ“ DEPLOYMENT_CHECKLIST.md       (6.4K) - Deploy checklist
  âœ“ MIGRATION_SUMMARY.md          (8.2K) - This summary
  
Tools:
  âœ“ verify_supabase_migration.py  (5.6K) - Verification script

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”’ ENVIRONMENT VARIABLES (Required)

DATABASE_URL=postgresql://postgres:March%402024@db.lsqvxfaonbvqvlwrhsby.supabase.co:5432/postgres
JWT_SECRET_KEY=<generate-new-secret-in-production>
FLASK_ENV=production

Generate new JWT secret:
  python -c "import secrets; print(secrets.token_hex(32))"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… VERIFICATION CHECKLIST

After migration:
  â–¡ 18 tables exist in Supabase
  â–¡ 1 company, 1 user, 1 project in database
  â–¡ Foreign keys work (user â†’ company)
  â–¡ Sequences set correctly

After deployment:
  â–¡ Health endpoint works: curl https://your-app.com/health
  â–¡ Login works: curl -X POST https://your-app.com/auth/login
  â–¡ API returns data with JWT token

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  KNOWN ISSUES

Codespaces Network:
  âœ— Cannot connect directly to Supabase from Codespaces (IPv6 blocked)
  âœ“ Use SQL Editor in browser (works!)
  âœ“ Or deploy to Railway/Render (works!)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’° COSTS

Development (Free):
  â€¢ Supabase free tier: 500MB DB, 1GB storage
  â€¢ Railway free tier: 500 hours/month
  â€¢ Total: $0/month

Production (Starter):
  â€¢ Supabase Pro: $25/month
  â€¢ Railway/Render: $7-10/month
  â€¢ Total: ~$35/month

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ†˜ HELP

Stuck? Check:
  1. SUPABASE_MIGRATION_GUIDE.md - Detailed steps
  2. DEPLOYMENT_CHECKLIST.md - Platform-specific help
  3. MIGRATION_SUMMARY.md - Full context

Errors?
  â€¢ "table exists" â†’ OK! Safe to ignore
  â€¢ "foreign key violation" â†’ Run schema BEFORE data
  â€¢ "network unreachable" â†’ Use Supabase web interface

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ TOTAL TIME

Migration execution:     10 minutes
Deploy to Railway:       10 minutes
Verification:            5 minutes
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL:                   25 minutes  ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Last updated: November 12, 2025
Your current DB: data.sqlite3 (backed up âœ“)
Target DB: lsqvxfaonbvqvlwrhsby.supabase.co
